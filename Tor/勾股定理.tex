%!TEX program = xelatex
%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
%-*-coding : UTF-8 -*-
%main.tex
%
\documentclass[12pt]{article}  %è®¾ç½®æ–‡ç« æ€»æ’ç‰ˆæ ¼å¼
\usepackage{url,fontspec,xltxtra,xunicode,graphicx,xeCJK,listings,float}
\setCJKmainfont{Songti SC}     % è®¾ç½®ä¸­æ–‡å­—ä½“
\setCJKmonofont{Songti SC}
\setromanfont{Times New Roman} % è®¾ç½®è‹±æ–‡å­—ä½“
\newfontfamily\courier{Courier New}
\lstset{linewidth=1.1\textwidth,
        numbers=left, %è®¾ç½®è¡Œå·ä½ç½® 
        basicstyle=\small\courier,
        numberstyle=\tiny\courier, %è®¾ç½®è¡Œå·å¤§å°  
        keywordstyle=\color{blue}\courier, %è®¾ç½®å…³é”®å­—é¢œè‰²  
        %identifierstyle=\bfï¼Œ
        commentstyle=\it\color[cmyk]{1,0,1,0}\courier, %è®¾ç½®æ³¨é‡Šé¢œè‰² 
        stringstyle=\it\color[RGB]{128,0,0}\courier,
        %framexleftmargin=10mm,
        frame=single, %è®¾ç½®è¾¹æ¡†æ ¼å¼  
        %backgroundcolor=\color[RGB]{0.1,0.1,0.76},
        %escapeinside=``, %é€ƒé€¸å­—ç¬¦(1å·¦é¢çš„é”®)ï¼Œç”¨äºæ˜¾ç¤ºä¸­æ–‡  
        breaklines, %è‡ªåŠ¨æŠ˜è¡Œ  
        extendedchars=false, %è§£å†³ä»£ç è·¨é¡µæ—¶ï¼Œç« èŠ‚æ ‡é¢˜ï¼Œé¡µçœ‰ç­‰æ±‰å­—ä¸æ˜¾ç¤ºçš„é—®é¢˜  
        xleftmargin=2em,xrightmargin=2em, aboveskip=1em, %è®¾ç½®è¾¹è·  
        tabsize=4, %è®¾ç½®tabç©ºæ ¼æ•°  
        showspaces=false %ä¸æ˜¾ç¤ºç©ºæ ¼  
        basicstyle=\small\courier
       } 
\title{Toré¡¹ç›®æ‰©å±•åº”ç”¨}
\author{Mod233}
\date{\today}
\XeTeXlinebreaklocale "zh"					   % 
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt %è‡ªåŠ¨æ¢è¡Œ
\bibliographystyle{plain} %å‚è€ƒæ–‡çŒ®çš„æ ¼å¼

\begin{document}   %æ­£æ–‡å¼€å§‹

\maketitle
\begin{abstract}
å¯¹äºTorçš„ç ”ç©¶åœ¨å¤§å››ä¸ŠæŒç»­äº†åŠå­¦æœŸï¼Œå¯ä»¥è¯´æ”¶è·é¢‡ä¸°ã€‚Torä½œä¸ºåŒ¿åç½‘ç»œçš„é¼»ç¥–ï¼Œæ˜¯æˆ‘ä¸ºæˆ‘æœªæ¥å·¥ä½œç”Ÿæ´»ï¼Œæä¾›åŒ¿åå®‰å…¨çš„æœ‰æ•ˆå·¥å…·ã€‚è¿™é‡Œæˆ‘ä¼šå°±Toré…ç½®ã€Torçˆ¬è™«ã€Toræœ¨é©¬ç­‰æ–¹é¢å±•å¼€ã€‚
\end{abstract}
\tableofcontents
\section{Toré…ç½®} % (fold)
\label{sec:ç†Ÿæ‚‰latex}
\ \ \ \ \ Torç¯å¢ƒé…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ç®€å•çš„Toræµè§ˆå™¨ï¼Œæˆ–è€…CLIå‘½ä»¤è¡Œç•Œé¢ã€‚æˆ‘è¿™é‡Œä¸»è¦ä»¥CLIå±•å¼€ï¼Œå› ä¸ºä¸»è¦æ˜¯ä¸ºäº†åé¢ç« èŠ‚å¯¼å…¥çˆ¬è™«ã€æœ¨é©¬ç­‰ç­‰æµé‡åšé“ºå«ã€‚\par
å¦‚æœä¸ä½¿ç”¨Toræµè§ˆå™¨ï¼Œæ•´ä¸ªæµç¨‹çš„é…ç½®ï¼Œç›¸å¯¹å¤æ‚ã€‚å› ä¸ºå¤§é™†ä¼šå±è”½Torçš„æµé‡ï¼Œåœ¨Tor Browserä¸­é›†æˆäº†meek-amazon å’Œmeek-azureæ¥ç»•è¿‡æ£€æµ‹ã€‚ä½†éšç€æŠ€æœ¯çš„æ…¢æ…¢è¿›æ­¥ï¼Œmeekä½œä¸ºè·³æ¿è‚¯å®šä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œæ‰€ä»¥è¿™é‡Œä»‹ç»ç»“åˆ Shadowsocksã€Torã€Privoxyæ¥å®ç°åŒ¿åæœåŠ¡çš„ç³»ç»Ÿã€‚ \par
åŸºæœ¬ç½‘ç»œæ‹“æ‰‘å¦‚ä¸‹: \par

\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{pic/tor2.pdf}
\end{figure}

\par
ä»æ‹“æ‰‘ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä¸»è¦æ˜¯Privoxyå®ç°HTTP/HTTPSåˆ°SOCK5çš„è½¬æ¢ï¼Œç„¶ååˆTorå°è£…ä¸€å±‚åï¼Œäº¤ç»™Shadowsocks Clientï¼Œç„¶åç”±Shadowsocks Clientå°†æ•°æ®åŒ…ä¼ ç»™å¤„äºå¢ƒå¤–ç«¯å£çš„Shadowsocks Serverï¼Œè¿™ä¸ªServerèŠ‚ç‚¹èƒ½è®¿é—®Torçš„èŠ‚ç‚¹IPå¹¶ä¸”ä¸ä¼šè¢«æ‹¦æˆªï¼Œæµé‡å°±æˆåŠŸæ¥å…¥äº†Torç½‘ç»œä¸­ã€‚
ä¸‹é¢é€ä¸ªä»‹ç» Privoxy,Tor,Shadowsocksçš„ç¯å¢ƒé…ç½®æƒ…å†µã€‚
\par
é¦–å…ˆæ˜¯Privoxyï¼š
\begin{lstlisting}[language=sh]
âœ  ~ brew install privoxy
âœ  ~ cd /usr/local/etc/privoxy
âœ  privoxy ls
config           default.filter   templates        user.action
default.action   match-all.action trust            user.filter
âœ  privoxy cat config
...SNIP...
listen-address  127.0.0.1:8118
forward-socks5 / 127.0.0.1:9050
forward-socks5t / 127.0.0.1:9050     #socks5-tor
forward-socks   / 127.0.0.1:9050
...SNIP...
âœ  privoxy sudo /Applications/Privoxy/startPrivoxy.sh
âœ  privoxy sudo /Applications/Privoxy/stopPrivoxy.sh
\end{lstlisting}
\par
Privoxyä¸­ï¼Œlisten-addressï¼ŒæŒ‡åäº†ç›‘å¬çš„ipåŠportï¼ŒforwardæŒ‡æ˜äº†è½¬å‘è§„åˆ™ã€‚å®Œæˆäº†privoxyçš„é…ç½®åï¼Œå¯ä»¥ç™»é™†\emph{http://config.privoxy.org/}è¿›è¡Œæµ‹è¯•ï¼š
\begin{figure}[h]
\centering
\includegraphics[scale=0.3]{pic/privoxy.png}
\end{figure}
\par
æ¥ä¸‹æ¥éœ€è¦ä¸‹è½½Toræºç ï¼Œå¹¶ç¼–è¯‘å®‰è£…,æºä»£ç ä»å®˜ç½‘ï¼ˆhttps://www.torproject.org/download/download.html.enï¼‰ä¸‹è½½å³å¯ï¼Œä¸€èˆ¬ç±»Unixç³»ç»Ÿéƒ½ä¼šæœ‰å¯¹ç”¨çš„åŒ…ç®¡ç†å™¨æä¾›å¿«é€Ÿçš„å®‰è£…ï¼š

\begin{lstlisting}[language=sh]
âœ  CodeTor-0.3.3.7 brew install tor
...SNIP...
To have launchd start tor now and restart at login:
  brew services start tor
Or, if you don't want/need a background service you can just run:
  tor
==> Summary
ğŸº  /usr/local/Cellar/tor/0.3.3.7: 21 files, 11.2MB
...SNIP...
âœ  ~ cd /usr/local/etc/tor
âœ  tor ls
torrc
âœ  tor cat torrc
...SNIP...
Socks5Proxy 127.0.0.1:1077
SocksPort 9050
ControlPort 9051
âœ  tor -f /usr/local/etc/tor/torrc
\end{lstlisting}
\par
ä¹‹åéœ€è¦åˆ°\ \emph{/usr/local/tor/}\ æ–‡ä»¶å¤¹ä¸‹ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ”¹æˆå¦‚ä¸Šçš„æƒ…å†µå³å¯ã€‚ä¹‹ååˆ©ç”¨å¯åŠ¨å³å¯ã€‚


\par
é…ç½®shadowsocksç¯å¢ƒï¼Œç½‘ä¸Šå·²ç»æœ‰éå¸¸å¤šæ•™ç¨‹äº†ï¼Œè€Œä¸”shadowsocksåœ¨æ•´ä¸ªç³»ç»Ÿä¸­ç›¸å½“äºæµé‡è½¬å‘çš„åŠŸèƒ½ï¼Œè¿™é‡Œä¸èµ˜è¿°äº†ã€‚æƒ³è¦æµ‹è¯•shadowssocksæ˜¯å¦æˆåŠŸï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„å‘½ä»¤ï¼Œå¦‚æœè¿”å›ss-serverçš„åœ°å€ï¼Œåˆ™è¯´æ˜é…ç½®æˆåŠŸï¼š
\begin{lstlisting}[language=sh]
âœ  ~ curl --socks5 127.0.0.1:1077 http://httpbin.org/ip
{"origin":"95.163.200.165"}
\end{lstlisting}
\par
æ¥ä¸‹æ¥æ˜¯æµè§ˆå™¨çš„é…ç½®ï¼Œå¦‚æœè‡ªå·±æ˜¯firefoxæµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨\  \emph{preference->setting}\  é…ç½®å¯¹åº”çš„ä»£ç†æœåŠ¡å³å¯:
\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{pic/proxy.png}
\end{figure}
\par
Toræä¾›äº†ä¸€ä¸ªæµ‹è¯•ç½‘ç«™ï¼Œä¾›ç”¨æˆ·æµ‹è¯•æµé‡æ˜¯å¦ç»è¿‡äº†Torç½‘ç»œï¼Œç™»é™†\ \emph{https://check.torproject.org/} \ è®¿é—®å³å¯ï¼š
\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{pic/succed.png}
\end{figure}
\section{Torè®¤è¯åŸç†} % (fold)
\label{sec:ç»„ç»‡ä½ çš„æ–‡æœ¬}
\ \ \ \ \ ä»”ç»†æƒ³æƒ³ï¼ŒToræœ‰å¾ˆå¤šå€¼å¾—è‡ªå·±æ¨æ•²çš„é—®é¢˜ã€‚æ¯”å¦‚ä¸ºä»€ä¹ˆToré€‰æ‹©Socksåè®®ï¼Œä¸ºä»€ä¹ˆTorèƒ½å¤Ÿé˜²è¿½è¸ªã€‚
\section{Torçˆ¬è™«} % (fold)
\label{sec:è‡ªåŠ¨åŒ–å·¥å…·}
\ \ \ \ \ Torçˆ¬è™«æœ‰ä¸¤ç§ç†è§£ï¼Œä¸€ç§æ˜¯æŒ‡åˆ©ç”¨Torç‰¹æ€§ä¸­IPåŠ¨æ€è°ƒå˜çš„ä¼˜åŠ¿ï¼Œä»¥ä¸åŒçš„IPåŠ¨æ€çˆ¬å–ç½‘é¡µä¿¡æ¯ï¼Œè€Œä¸ä¼šå› ä¸ºå•ä¸ªIPé¢‘å‘è®¿é—®é­åˆ°å±è”½ï¼›
å¦ä¸€ç§æ˜¯é€šè¿‡Torè¿›å…¥æš—ç½‘ï¼Œçˆ¬å–æš—ç½‘ä¸­çš„æ•°æ®ã€‚
\section{ç©è½¬æ•°å­¦å…¬å¼} % (fold)
\label{sec:ç©è½¬æ•°å­¦å…¬å¼}
b
\section{ç»˜åˆ¶å›¾è¡¨} % (fold)
\label{sec:ç»˜åˆ¶å›¾è¡¨}
\section{å¹»ç¯ç‰‡æ¼”ç¤º} % (fold)
\label{sec:å¹»ç¯ç‰‡æ¼”ç¤º}
\section{ä»é”™è¯¯ä¸­æ•‘èµ} % (fold)
\label{sec:ä»é”™è¯¯ä¸­æ•‘èµ}
\section{Latexæ— æé™} % (fold)
\label{sec:Latexæ— æé™}

% section section_name (end)
\end{document} %æ­£æ–‡ç»“æŸ